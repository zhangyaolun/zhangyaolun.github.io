(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21e96cf5"],{"0616":function(t,e,i){},"1991f":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"assemble-create-wrapper"},[i("template-add",{ref:"assemleInfoForm",attrs:{load:t.loading,info:t.info},on:{"update:load":function(e){t.loading=e},"update:info":function(e){t.info=e}}}),t._v(" "),i("template-btn",{on:{submit:t.submit}})],1)},a=[],o=(i("28a5"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-card",{staticClass:"box-card action-add-info"},[i("el-form",{ref:"ruleForm",attrs:{model:t.info,rules:t.rules,"label-width":"150px"}},[i("el-form-item",{staticClass:"form-desc-item",staticStyle:{width:"600px"},attrs:{label:"公告文案："}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:6,maxRows:40}},model:{value:t.info.notice,callback:function(e){t.$set(t.info,"notice",e)},expression:"info.notice"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"轮播图：",prop:"shareImage"}},[t.info&&"create"==t.info.pageType?i("uploadimg-more",{attrs:{bundle:t.info},on:{"update:bundle":function(e){t.info=e},loading:t.loading}}):t._e(),t._v(" "),"detail"==t.info.pageType?i("section",[i("img",{staticClass:"uploadImg",attrs:{src:t.info.images,alt:""}})]):t._e(),t._v(" "),i("span",{staticStyle:{color:"#909399","font-size":"12px"}},[t._v("尺寸为400*400，仅支持JPG/PNG格式，图片要求小于等于2MB")])],1)],1)],1)}),s=[],l=(i("ac6a"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[t.bundle.imageBigList?i("el-upload",{class:{hideUpload:t.bundle.imageBigList.length>=5},attrs:{action:t.uploadUrl(),"list-type":"picture-card",limit:5,"file-list":t.bundle.imageBigList,"on-success":t.bigFileSuccess,"before-upload":t.beforeAvatarUpload},scopedSlots:t._u([{key:"file",fn:function(e){var n=e.file;return i("div",{},[i("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:n.url,alt:""}}),t._v(" "),i("span",{staticClass:"el-upload-list__item-actions"},[i("span",{staticClass:"el-upload-list__item-delete",on:{click:function(e){return t.handleRemove(n)}}},[i("i",{staticClass:"el-icon-delete"})])])])}}],null,!1,889087075)},[i("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]):t._e(),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)}),r=[],u=Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:""}).VUE_APP_ORDER_API_BASE,c={props:{bundle:{type:Object,required:!0}},data:function(){return{dialogImageUrl:"",dialogVisible:!1}},methods:{bigFileSuccess:function(t,e){var i=this;this.bundle.imageBigList.push({url:t.data}),setTimeout((function(){i.$emit("loading",!1)}),600)},uploadUrl:function(){return"".concat(u,"/modules/web/common/upload")},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleRemove:function(t){this.bundle.imageBigList=this.bundle.imageBigList.filter((function(e){return e.url!=t.url}))},beforeAvatarUpload:function(t){var e=this;this.$emit("loading",!0);var i=t.type.toLowerCase(),n=/^image\/(jpg|png|jpeg)$/.test(i),a=t.size/1024/1024<2;n||(this.$emit("loading",!1),this.$message.error("上传图片仅支持JPG/PNG格式")),a||(this.$emit("loading",!1),this.$message.error("上传图片大小不能超过 2MB!"));new Promise((function(e,i){var n=400,a=400,o=window.URL||window.webkitURL,s=new Image;s.onload=function(){var t=+s.width===n&&+s.height===a;t?e():i()},s.src=o.createObjectURL(t)})).then((function(){return t}),(function(){return e.$message.error("上传的图片尺寸为400*400"),Promise.reject()}));return n&&a}}},d=c,f=(i("293d"),i("2877")),m=Object(f["a"])(d,l,r,!1,null,null,null),p=m.exports,g={props:{info:{type:Object,required:!0},load:{type:Boolean,required:!0}},components:{uploadimgMore:p},watch:{"info.imageBigList":{handler:function(t){var e=this;this.info.images="",t.forEach((function(t){e.info.images+=t.url+","})),this.info.images=this.info.images.substring(0,this.info.images.length-1)},immediate:!0,deep:!0}},mounted:function(){console.log(this.info)},data:function(){return{rules:{name:[{required:!0,message:"请输入课程名称",trigger:"blur"}]}}},methods:{loading:function(t){this.$emit("update:load",t)}}},h=g,b=(i("fb46"),Object(f["a"])(h,o,s,!1,null,"f9283324",null)),v=b.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"action-btn"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$emit("submit")}}},[t._v("保存")])],1)},w=[],P={data:function(){return{routerPath:""}},mounted:function(){this.routerPath=window.location.href.split("#")[1]},methods:{}},y=P,$=(i("2217"),Object(f["a"])(y,_,w,!1,null,"1ddd4fa0",null)),B=$.exports,L={components:{templateAdd:v,templateBtn:B},data:function(){return{loading:!1,info:{pageType:"create",notice:"",images:"",imageBigList:[]},routerPath:""}},mounted:function(){this.routerPath=window.location.href.split("#")[1]},methods:{submit:function(){var t=this,e=!0;e&&this.$confirm("确认提交吗？").then((function(e){t.create()})).catch((function(t){}))},create:function(){return this.$message.success("保存成功！"),!1},coursePlayAdd:function(){this.info.playList.push({name:"",src:""})},coursePlayDel:function(t){this.info.playList.splice(t,1)}}},U=L,E=Object(f["a"])(U,n,a,!1,null,null,null);e["default"]=E.exports},2217:function(t,e,i){"use strict";var n=i("4565"),a=i.n(n);a.a},2409:function(t,e,i){},"293d":function(t,e,i){"use strict";var n=i("2409"),a=i.n(n);a.a},4565:function(t,e,i){},fb46:function(t,e,i){"use strict";var n=i("0616"),a=i.n(n);a.a}}]);