(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38e12207"],{"137c":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[e.imageList?i("el-upload",{class:{hideUpload:e.imageList.length>=1},attrs:{action:e.uploadUrl(),"list-type":"picture-card",limit:1,"file-list":e.imageList,"on-success":e.bigFileSuccess,"before-upload":e.beforeAvatarUpload},scopedSlots:e._u([{key:"file",fn:function(t){var a=t.file;return i("div",{},[i("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:a.url,alt:""}}),e._v(" "),i("span",{staticClass:"el-upload-list__item-actions"},[i("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(a)}}},[i("i",{staticClass:"el-icon-zoom-in"})]),e._v(" "),i("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(a)}}},[i("i",{staticClass:"el-icon-delete"})])])])}}],null,!1,1149435932)},[i("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]):e._e(),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},n=[],o=Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_ORDER_API_BASE,s={props:{imageName:{type:String,required:!0},bundle:{type:Object,required:!0}},data:function(){return{imageList:[],dialogImageUrl:"",dialogVisible:!1}},watch:{"bundle.imageSmall":{handler:function(e){this.imageList=[],e&&this.imageList.push({url:e})},immediate:!0,deep:!0},"bundle.shareImage":{handler:function(e){this.imageList=[],e&&this.imageList.push({url:e})},immediate:!0,deep:!0}},methods:{bigFileSuccess:function(e,t){var i=this;this.imageList.push({url:e.data}),this.$set(this.bundle,this.imageName,e.data),setTimeout((function(){i.$emit("loading",!1)}),600)},uploadUrl:function(){return"".concat(o,"/modules/web/common/upload")},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleRemove:function(e){this.imageList=this.imageList.filter((function(t){return t.url!=e.url})),this.$set(this.bundle,this.imageName,"")},beforeAvatarUpload:function(e){var t=this;this.$emit("loading",!0);var i=e.type.toLowerCase(),a=/^image\/(jpg|png|jpeg)$/.test(i),n=e.size/1024/1024<2;a||(this.$emit("loading",!1),this.$message.error("上传图片仅支持JPG/PNG格式")),n||(this.$emit("loading",!1),this.$message.error("上传图片大小不能超过 2MB!"));new Promise((function(t,i){var a=400,n=400,o=window.URL||window.webkitURL,s=new Image;s.onload=function(){var e=+s.width===a&&+s.height===n;e?t():i()},s.src=o.createObjectURL(e)})).then((function(){return e}),(function(){return t.$message.error("上传的图片尺寸为400*400"),Promise.reject()}));return a&&n}}},l=s,r=(i("c72b"),i("2877")),c=Object(r["a"])(l,a,n,!1,null,null,null);t["a"]=c.exports},"13b8":function(e,t,i){"use strict";var a=i("5e1e"),n=i.n(a);n.a},"5e1e":function(e,t,i){},"6abd":function(e,t,i){"use strict";var a=i("7ce0"),n=i.n(a);n.a},"6b00":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-card",{staticClass:"box-card action-add-info"},[i("el-form",{ref:"ruleForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[i("el-form-item",{attrs:{label:"课程名称：",prop:"name"}},[i("el-input",{staticClass:"name-input",attrs:{maxlength:"30",placeholder:"请输入课程名称",disabled:"detail"==e.info.pageType},model:{value:e.info.name,callback:function(t){e.$set(e.info,"name",t)},expression:"info.name"}}),e._v(" "),i("span",{staticClass:"placeholder"},[e._v("课程名称文字长度不能超过30个字（包含30个）")])],1),e._v(" "),i("el-form-item",{staticClass:"form-desc-item",staticStyle:{width:"600px"},attrs:{label:"课程简介：",prop:"detail"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:6,maxRows:40},disabled:"detail"==e.info.pageType},model:{value:e.info.detail,callback:function(t){e.$set(e.info,"detail",t)},expression:"info.detail"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"课程封面图：",prop:"shareImage"}},["create"==e.info.pageType||"mod"==e.info.pageType?i("upload-img",{attrs:{imageName:"images",bundle:e.info},on:{"update:bundle":function(t){e.info=t}}}):e._e(),e._v(" "),"detail"==e.info.pageType?i("section",[i("img",{staticClass:"uploadImg",attrs:{src:e.info.images,alt:""}})]):e._e(),e._v(" "),i("span",{staticStyle:{color:"#909399","font-size":"12px"}},[e._v("尺寸为400*400，仅支持JPG/PNG格式，图片要求小于等于2MB")])],1)],1)],1)},n=[],o=i("137c"),s={props:{info:{type:Object,required:!0},load:{type:Boolean,required:!0}},components:{uploadImg:o["a"]},watch:{},mounted:function(){console.log(this.info)},data:function(){return{rules:{name:[{required:!0,message:"请输入课程名称",trigger:"blur"}]}}},methods:{loading:function(e){this.$emit("update:load",e)}}},l=s,r=(i("13b8"),i("2877")),c=Object(r["a"])(l,a,n,!1,null,"a77f7dba",null);t["a"]=c.exports},"709b":function(e,t,i){},"7ce0":function(e,t,i){},a0ae:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-card",{staticClass:"box-card action-add-info"},[e.info?i("el-form",{ref:"ruleForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},e._l(e.info.playList,(function(t,a){return i("section",{key:a,staticStyle:{"margin-bottom":"30px","border-bottom":"1px dashed #e6ebf5"}},[e.info.playList.length>1&&"detail"!=e.info.pageType?i("el-button",{attrs:{type:"danger",plain:"",size:"small"},on:{click:function(t){return e.$emit("coursePlayDel",a)}}},[e._v("删除")]):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"小节名称："}},[i("el-input",{staticClass:"name-input",attrs:{maxlength:"30",placeholder:"请输入小节名称",disabled:"detail"==e.info.pageType},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"items.name"}}),e._v(" "),i("span",{staticClass:"placeholder"},[e._v("小节名称文字长度不能超过30个字（包含30个）")])],1),e._v(" "),i("el-form-item",{attrs:{label:"小节视频："}},["create"==e.info.pageType||"mod"==e.info.pageType?i("upload-img",{attrs:{imageName:"images",bundle:e.info},on:{"update:bundle":function(t){e.info=t}}}):e._e(),e._v(" "),"detail"==e.info.pageType?i("section",[i("img",{staticClass:"uploadImg",attrs:{src:t.images,alt:""}})]):e._e()],1)],1)})),0):e._e(),e._v(" "),i("el-button",{attrs:{type:"primary",plain:"",size:"medium",disabled:"detail"==e.info.pageType},on:{click:function(t){return e.$emit("coursePlayAdd")}}},[e._v("添加")])],1)},n=[],o=i("137c"),s={props:{info:{type:Object,required:!0},load:{type:Boolean,required:!0}},components:{uploadImg:o["a"]},watch:{},mounted:function(){console.log(this.info)},data:function(){return{rules:{name:[{required:!0,message:"请输入课程名称",trigger:"blur"}]}}},methods:{loading:function(e){this.$emit("update:load",e)}}},l=s,r=(i("6abd"),i("2877")),c=Object(r["a"])(l,a,n,!1,null,"2b673c78",null);t["a"]=c.exports},c118:function(e,t,i){"use strict";var a=i("709b"),n=i.n(a);n.a},c72b:function(e,t,i){"use strict";var a=i("d1cf"),n=i.n(a);n.a},d17d:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"assemble-create-wrapper"},[i("action-info",{attrs:{info:e.info,load:e.loading},on:{"update:info":function(t){e.info=t},"update:load":function(t){e.loading=t}}}),e._v(" "),i("template-play",{attrs:{info:e.info,load:e.loading},on:{"update:info":function(t){e.info=t},"update:load":function(t){e.loading=t}}}),e._v(" "),i("action-btn")],1)},n=[],o=i("6b00"),s=i("a0ae"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"action-btn"},[i("el-button",{on:{click:e.submitFalse}},[e._v("返回")])],1)},r=[],c=(i("28a5"),{data:function(){return{routerPath:""}},mounted:function(){this.routerPath=window.location.href.split("#")[1]},methods:{submitFalse:function(){this.$store.dispatch("tagsView/delVisitedView",{path:this.routerPath}),this.$router.push({path:"/courseList"})}}}),u=c,d=(i("c118"),i("2877")),m=Object(d["a"])(u,l,r,!1,null,"e296e690",null),p=m.exports,f={components:{actionInfo:o["a"],templatePlay:s["a"],actionBtn:p},data:function(){return{loading:!0,info:{id:"",pageType:"detail",name:"英语初级考试",detail:"小学英语初级考试",images:"",playList:[{name:"初级考试",src:""}]}}},created:function(){this.info.id=this.$route.params.id,this.loading=!1},methods:{fetch:function(){var e=this;this.$api.assemble.groupDetail(this.info.id).then((function(t){t.data;e.loading=!1})).catch((function(t){e.$message.error(t.message)}))}}},g=f,h=Object(d["a"])(g,a,n,!1,null,null,null);t["default"]=h.exports},d1cf:function(e,t,i){}}]);