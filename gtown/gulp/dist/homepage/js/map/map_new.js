new Vue({el:"#app",data:{mapTitleHead:"新增收货地址",submitDate:{receiverName:"",telephone:"",aliasName:"",province:"",city:"",area:"",address:"",defaults:!1},submitColor:!1,oTitle:""},computed:{mapAddress:function(){var e=this;if(""!=e.submitDate.province)return e.submitDate.province+" "+e.submitDate.city+" "+e.submitDate.area}},mounted:function(){var e=this;if(FastClick.attach(document.body),e.oTitle=commentJs.getUrlKey("title")||"",e.oTitle){e.mapTitleHead="编辑收货地址";var t=JSON.parse(sessionStorage.getItem("mapTitle"));e.submitDate.receiverName=t.receiverName,e.submitDate.telephone=t.telephone,e.submitDate.aliasName=t.aliasName,e.submitDate.province=t.province,e.submitDate.city=t.city,e.submitDate.area=t.area,e.submitDate.address=t.address,e.submitDate.defaults=t.defaults,e.submitDate.id=t.id}e.perClick()},watch:{submitDate:{handler:function(e,t){""!=e.receiverName&&""!=e.telephone&&""!=e.province&&""!=e.city&&""!=e.area&&""!=e.address?this.submitColor=!0:this.submitColor=!1},deep:!0}},methods:{MapCityClick:function(){var t=this;commentJs.areaSelected({success:function(e){area_info=e.area_info,t.submitDate.province=e.area_id_1,t.submitDate.city=e.area_id_2,t.submitDate.area=e.area_id_3,$("#varea_info").val(e.area_info)}})},default_click:function(){this.submitDate.defaults=!this.submitDate.defaults},submit_click:function(){var t=this;if(t.submitColor){var e=t.submitDate.telephone;if(!commentJs.checkPhone(e)&&!commentJs.checkFixedPhone(e))return void commentJs.toastTitle("手机号输入有误","forbidden");o.useBuyerAddress(1,10,function(e){0==e.result.list.length?(t.submitDate.defaults=!0,t.submit_suc()):t.oTitle?t.submit_Mod():t.submit_suc()})}},submit_suc:function(){o.useAddAddress(this.submitDate,function(e){window.location.href="./map_list.html"})},submit_Mod:function(){o.useModAddress(this.submitDate,function(e){window.location.href="./map_list.html"})},perClick:function(){var t=this;$("#sex").select({title:"选择标签",autoClose:!0,items:["无","家","学校","公司"],onClose:function(e){"无"==e.data.values?t.submitDate.aliasName="":t.submitDate.aliasName=e.data.values}})}}});