new Vue({el:"#app",data:{oBackTopFixed:!1,preLoading:!0,swiperList:[],swiperBottomList:[],tcNavList:[],newsList:[],mainListdate:[],scoreActivityList:[],scoreList:[],scoreListindex:0,seachTitle:""},filters:{currency:function(o){return o?"¥"+(parseFloat(o)/100).toFixed(2):"¥0.00"}},mounted:function(){var o=this;FastClick.attach(document.body),commentJs.toastLoading("加载中..."),commentJs.removeCookie("userId"),commentJs.removeCookie("userName");var t=commentJs.getUrlKey("code")||"1";(t||sessionStorage.getItem("userId"))&&(commentJs.automaticLogin(t),commentJs.headerFooter(1),setInterval('commentJs.AutoScroll("scroll-news")',2500),commentJs.BackToTop("fix-block-r"),commentJs.shopcarAll(),commentJs.kefuLogo("kefu_logo"),o.seachTitle=commentJs.gethotNew("加湿器 无线音箱 智能家电"),setTimeout(function(){o.getInfo()},10),window.addEventListener("scroll",this.handleScroll))},methods:{getInfo:function(){var n=this;o.homeGetDate("admin",function(o){var r={};n.scoreList=[],o.result.forEach(function(e,o){if(r={template:[],list:[],type:""},"banner"==e.group.linkType&&1==e.group.status){if(!e.infos)return;n.swiperList=[],e.infos.forEach(function(o,t){"goods"==o.type?o.aHref="../product/product_detail.html?goods_id="+o.linkId:"url"==o.type?o.aHref=o.linkId:o.aHref="javascript:void(0);",n.swiperList.push(o)})}else if("shopPromise"==e.group.linkType&&1==e.group.status){if(!e.infos)return;n.swiperBottomList=[],e.infos.forEach(function(o,t){"goods"==o.type?o.aHref="javascript:void(0);":"url"==o.type?o.aHref=o.linkId:o.aHref="javascript:void(0);",n.swiperBottomList.push(o)})}else if("bannerNav"==e.group.linkType&&1==e.group.status){if(!e.infos)return;n.tcNavList=[];var i={oClass:"",list:[]},s=0;e.infos.length%3==0?(i.oClass="three",e.infos.forEach(function(o,t){"goods"==o.type?o.aHref="javascript:void(0);":"url"==o.type?o.aHref=o.linkId:o.aHref="javascript:void(0);",t%3==0&&(i.list=e.infos.slice(3*s,3+3*s),n.tcNavList.push(i),s++)})):e.infos.length%4==0?(i.oClass="four",e.infos.forEach(function(o,t){"goods"==o.type?o.aHref="javascript:void(0);":"url"==o.type?o.aHref=o.linkId:o.aHref="javascript:void(0);",t%4==0&&(i.list=e.infos.slice(4*s,4+4*s),n.tcNavList.push(i),s++)})):e.infos.length%5==0&&(i.oClass="five",e.infos.forEach(function(o,t){"goods"==o.type?o.aHref="javascript:void(0);":"url"==o.type?o.aHref=o.linkId:o.aHref="javascript:void(0);",t%5==0&&(i.list=e.infos.slice(5*s,5+5*s),n.tcNavList.push(i),s++)}))}else if("scoreActivity"==e.group.linkType&&1==e.group.status){if(!e.infos)return;n.scoreActivityList=[],e.infos.forEach(function(o,t){"goods"==o.type?o.aHref="../product/product_detail.html?goods_id="+o.linkId:"url"==o.type?o.aHref=o.linkId:o.aHref="javascript:void(0);",n.scoreActivityList.push(o)})}else if("score"==e.group.linkType&&1==e.group.status){if(!e.infos)return;e.infos.forEach(function(o,t){"goods"==o.type?o.aHref="../product/product_detail.html?goods_id="+o.linkId:"url"==o.type?o.aHref=o.linkId:o.aHref="javascript:void(0);"}),n.scoreList.push(e)}else if("titleImg"==e.group.linkType&&1==e.group.status){if(!e.infos)return;e.infos.forEach(function(o,t){o.aHref="javascript:void(0);",o.parentTitle=e.group.title,o.parentType=e.group.linkType,r.template.push(o)})}else if("templateImg"==e.group.linkType&&1==e.group.status){if(!e.infos)return;e.infos.forEach(function(o,t){"goods"==o.type?o.aHref="../product/product_detail.html?goods_id="+o.linkId:"url"==o.type?o.aHref=o.linkId:o.aHref="javascript:void(0);",o.parentTitle=e.group.title,r.template.push(o)})}else if("baokuan"==e.group.linkType&&1==e.group.status){if(!e.infos)return;e.infos.forEach(function(o,t){o.productPageDto&&null!=o.productPageDto&&"null"!=o.productPageDto?"goods"==o.type?o.aHref="../product/product_detail.html?goods_id="+o.linkId:"url"==o.type?o.aHref=o.linkId:o.aHref="javascript:void(0);":o.aHref="../member/shopLower.html",o.oClass="baokuan",r.list.push(o)}),r.type="baokuan"}else if("listTwo"==e.group.linkType&&1==e.group.status){if(!e.infos)return;e.infos.forEach(function(o,t){o.productPageDto&&null!=o.productPageDto&&"null"!=o.productPageDto?"goods"==o.type?o.aHref="../product/product_detail.html?goods_id="+o.linkId:"url"==o.type?o.aHref=o.linkId:o.aHref="javascript:void(0);":o.aHref="../member/shopLower.html",o.oClass="listTwo",r.list.push(o)})}else if("listThree"==e.group.linkType&&1==e.group.status){if(!e.infos)return;e.infos.forEach(function(o,t){o.productPageDto&&null!=o.productPageDto&&"null"!=o.productPageDto?"goods"==o.type?o.aHref="../product/product_detail.html?goods_id="+o.linkId:"url"==o.type?o.aHref=o.linkId:o.aHref="javascript:void(0);":o.aHref="../member/shopLower.html",o.oClass="listThree",r.list.push(o)})}(0<r.template.length||0<r.list.length)&&(n.mainListdate[n.mainListdate.length]=r)}),0<n.mainListdate.length&&n.mainListdate.forEach(function(o,t){o.list&&0<o.list.length&&o.list.forEach(function(o,t){"listThree"==o.oClass&&(o.borderNone=(t+1)%3==0?"listThree borderNone":"listThree"),"listTwo"==o.oClass&&(o.borderNone=(t+1)%2==0?"listTwo borderNone":"listTwo")})}),0<n.scoreList.length&&(n.scoreListindex=0),console.log(n.scoreList),setTimeout(function(){new Swiper(".swiper-container1",{autoplay:3e3,loop:!0,pagination:".swiper-pagination1"}),n.oBackTop()},20),n.preLoading=!1});o.homeNews(11,function(o){n.newsList=[],o.result&&0<o.result.length&&o.result.forEach(function(o,t){o.isOpen&&n.newsList.push(o)})})},oBackTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},scoreListClick:function(e){console.log(e),0<this.scoreList.length&&this.scoreList.forEach(function(o,t){o.group.scoreListindex=t==e&&(console.log("0000"),!0)})},shop_mod_container:function(o){window.location.href=o},handleScroll:function(){var o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.oBackTopFixed=100<o}}});