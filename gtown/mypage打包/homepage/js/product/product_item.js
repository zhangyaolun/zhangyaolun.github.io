new Vue({el:"#list",data:{oBackTopFixed:!1,preLoading:!0,browseMode_falg:!0,norecordShow:!0,current_falg:!0,goodsIndex:0,goodsType:["正常"],goodsTypeIndex:0,goodsValue:"按价格",nav_li_one:!0,nav_li_icon:!1,itemList:[],page:1,count:10,datas:{equalFields:{categoryId:null},orderByName:"price",greaterOrEqualFields:{minPrice:null},lessOrEqualFields:{maxPrice:null},isDesc:!0,rangeName:"price",rangeMin:null,rangeMax:null,like:{name:null,categoryLev:null}},inputSeach:"",seachTitle:"",listNode:!1},computed:{},watch:{datas:{handler:function(e){e.rangeMin<0&&(this.datas.rangeMin=null),e.rangeMax<0&&(this.datas.rangeMin=null)},deep:!0}},filters:{number:function(e){return e||0},priceTofixed:function(e){return e?parseInt(e).toFixed(0):"0"},priceTofixeds:function(e){return e?(parseInt(e)/100).toFixed(2):"0.00"}},mounted:function(){FastClick.attach(document.body),commentJs.toastLoading("加载中..."),commentJs.shopcarAll(),commentJs.BackToTop("fix-block-r");var a=this;_title=commentJs.getUrlKey("title")||null,_my=commentJs.getUrlKey("my")||null,_lev=commentJs.getUrlKey("lev")||null,_catId=commentJs.getUrlKey("cat_id")||null,_title?a.datas.like.name="%"+_title+"%":a.datas.like.name=null,a.seachTitle=commentJs.gethotNew(""),a.inputSeach=_title,null!=_lev&&"null"!=_lev?(a.datas.equalFields.categoryId=null,a.datas.like.categoryLev=_lev+"%"):a.datas.equalFields.categoryId=_catId;var e=commentJs.getUrlKey("sellerId");if(e&&"null"!=e&&(a.datas.equalFields.sellerId=e),_my){o.getUserIntegral(function(e){if(e.result){var t=e.result.total.integral;a.datas.lessOrEqualFields.maxPrice=0<t?(a.datas.greaterOrEqualFields.minPrice=1,t):a.datas.greaterOrEqualFields.minPrice=null}})}setTimeout(function(){a.oData(a.page,a.count)},10),commentJs.animationLeft({valve:"#search_adv",wrapper:".nctouch-full-mask",scroll:"#list-items-scroll",openCallback:function(){$(".JS-search").css("z-index",1999),$("body").append('<div  style=" cursor:pointer;" id="ldg_lockmask"></div>')}}),window.addEventListener("scroll",this.handleScroll)},methods:{sub:function(){this.inputSeach?this.datas.like.name="%"+this.inputSeach+"%":this.datas.like.name=null,this.oData(1,10)},footClick:function(e){window.location.href="./product_detail.html?goods_id="+e},oData:function(a,e){var n=this;o.productInfo(a,e,n.datas,function(e){n.listNode=!1;var t=e.result.list;1==a&&(n.itemList=[]),0<t.length?($("body").removeClass("bgf"),n.norecordShow=!0,t.forEach(function(e,t){2!=e.fictitiousType&&n.itemList.push(e)}),0==n.itemList.length&&(n.norecordShow=!1)):($("body").addClass("bgf"),1==a?n.norecordShow=!1:1<a&&(n.listNode=!0)),n.preLoading=!1})},goodsSort:function(){var e=this;this.nav_li_one?this.nav_li_icon=!this.nav_li_icon:(this.nav_li_one=!0,this.current_falg=!0),this.nav_li_icon?this.datas.isDesc=!1:this.datas.isDesc=!0,this.page=1,this.datas.orderByName="price",e.datas.rangeName="price",setTimeout(function(){e.oData(1,10)},10)},oBackTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},handleScroll:function(){var e=this,t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;e.oBackTopFixed=100<t,$(window).height()+$(document).scrollTop()==$(document).height()&&(e.page++,setTimeout(function(){e.oData(e.page,e.count)},10))},browseMode:function(){this.browseMode_falg=!this.browseMode_falg},browseVolume:function(){var e=this;e.nav_li_one=!1,e.page=1,e.datas.isDesc=!0,e.datas.orderByName="salesVolume",e.datas.rangeName="salesVolume",setTimeout(function(){e.oData(e.page,e.count)},10),e.current_falg=!1},goodsTypeClick:function(){0==this.goodsTypeIndex?this.goodsTypeIndex=1:this.goodsTypeIndex=0},searchSubmit:function(){var e=this;e.page=1,setTimeout(function(){e.oData(e.page,e.count)},10)},resetClick:function(){this.datas.rangeMin=null,this.datas.rangeMax=null}}});