new Vue({el:"#list",data:{datas:{equalFields:{fictitious:!0,fictitiousType:2}},preLoading:!0,phone:"",phoneAtrr:[],btnTrue:!1,btnFalg:!1,btnTanFalg:!1,oMoneyFalg:!1,subDatas:{count:1,fictitiousType:2,orderType:"Fictitious",linkId:null,preview:!0,subType:"SKU",phoneNumber:null},moneyPay:{id:"",newMoney:0,selMoney:0}},watch:{phone:{handler:function(o,e){var n=this;11==o.length&&commentJs.checkPhone(o)?(n.phoneAtrr[0].oClassStyle="sur",n.moneyPay.selMoney=n.phoneAtrr[0].price,n.moneyPay.id=n.phoneAtrr[0].id,n.btnTrue=!0):(n.empty(),n.btnTrue=!1)},deep:!0}},mounted:function(){var o=this;FastClick.attach(document.body),commentJs.homeHader("手机充值"),commentJs.kefuLogo("kefu_logo"),commentJs.toastLoading("加载中..."),setTimeout(function(){o.oData()},10)},filters:{},methods:{oData:function(){var n=this;o.productInfo(1,1e3,n.datas,function(o){var e=o.result.list;n.phoneAtrr=[],0<e.length&&e.forEach(function(o,e){o.oClassStyle=(e+1)%3==0?"ml":"",o.valuePay=o.price+"泰币",o.namePrice=o.price/100+"元",n.phoneAtrr.push(o)}),n.preLoading=!1});o.getUserIntegral(function(o){if(o.result){var e=o.result.total.integral;n.moneyPay.newMoney=0<e?e:0}})},phoneAtrrClick:function(o,e){var n=this;n.btnTrue&&(console.log(o),n.phoneAtrr.forEach(function(o,e){o.oClassStyle=(e+1)%3==0?"ml":""}),"ml"==o.oClassStyle?o.oClassStyle="ml sur":o.oClassStyle="sur",n.moneyPay.selMoney=o.price,n.moneyPay.id=o.id)},empty:function(){this.phoneAtrr.forEach(function(o,e){o.oClassStyle=(e+1)%3==0?"ml":""})},buyClick:function(){var t=this;console.log(t.moneyPay.selMoney),t.moneyPay.newMoney>t.moneyPay.selMoney?t.oMoneyFalg=!1:(t.oMoneyFalg=!0,t.moneyPay.selMoney=0);o.productDetailId(t.moneyPay.id,function(o){var e=o.result,n="";e.spuList.forEach(function(o,e){o.spuAttrList.forEach(function(o,e){n+=o.id+","})}),n="["+(n=n.substring(0,n.length-1))+"]",e.skuList.forEach(function(o,e){o.skuCombination==n&&(t.subDatas.linkId=o.id)}),t.btnTrue&&(t.btnTanFalg=!0)})},nobuyClick:function(){this.btnTanFalg=!1},btnFalgClick:function(){var n=this;n.subDatas.phoneNumber=n.phone;o.shopSubOrder(n.subDatas,function(o){var e=o.result.order;null!=e&&n.payM(e.orderNumber)})},payM:function(e){var n=this;o.payNotifyTest(e,function(o){window.location.href="../shop/payOrder.html?orderNumber="+e+"&orderPayment="+o.result.integral+"&transactionNo="+o.result.transactionNo+"&fictitiousType="+n.subDatas.fictitiousType})}}});